name: CI

on:
   push:
      branches:
        - Main
   pull_request:
      branches:
        - Main

jobs:
  lint:
    name: Lint âœ”
    runs-on: unbuntu-latest
    steps:
      - name: Checkout code ðŸ“©
        uses: actions/checkout@v3

      - uses: Roblox/setup-foreman
        name: Install Foreman ðŸ“©
        with:
          version: "^1.10.0"
          token: ${{ SECRETS.GITHUB_TOKEN }}
      - name: Lint âœ”
        run: |
          selene ./scr

  style: 
      name: Style ðŸ§¹
      runs-on: ubuntu-latest
      steps: 
        - uses: actions/checkout@v3
        - uses: JhonnyMorganz/stylua-actions@1.0.0
          with: 
            token: ${{SECRETS.GITHUB_TOKEN}}
            args: --check .